/* Mobile-only stylesheet for small viewports. Loaded with media="(max-width:880px)" so desktop remains unchanged. */

/* Basic touch-friendly defaults */
html,body{ -webkit-text-size-adjust:100%; font-size:16px; }

/* Generic mobile layout adjustments */
.app{ grid-template-columns:1fr !important; grid-template-rows: auto minmax(0,1fr) auto !important; height:100vh; }
.app > .col { min-height:0; }

/* Show mobile toggles */
#btnTogglePreview, #btnToggleLogMobile { display:inline-block !important; }

/* Collapse preview and log by default â€” JS will toggle .expanded to show them */
#previewCol .inspector, #previewCol .meta, #logCol .log{ display:none; }
#previewCol.expanded .inspector, #previewCol.expanded .meta, #logCol.expanded .log{ display:block; }

/* Ensure board gets usable height */
.boardStage, .board { min-height:50vh !important; height:auto !important; width:100% !important; transform:none !important; }

/* Increase hit targets for touch */
.panelToggle, .btn, .gold-btn, .btn-start { padding:12px 18px; font-size:16px; }

/* Avoid huge images pushing layout */
img{ max-width:100%; height:auto; }

/* Small helper classes */
.mobile-only{ display:block; }
.desktop-only{ display:none; }

/* Slightly larger spacing on mobile for readability */
body{ padding-bottom: 12px; }

/* If a page wants to opt-out of global mobile rules, add class .no-global-mobile on <body> */
.no-global-mobile .app, .no-global-mobile #previewCol .inspector, .no-global-mobile #logCol .log { all: initial; }

/* --- Mobile card/frag fixes --- */
/* Reduce hand card size so the hand doesn't overlap on small screens */
.col.right .hand .card.handCard { width: 96px !important; height: calc(96px * (var(--cardH) / var(--cardW))) !important; margin-left: -26px !important; transform: none !important; }
.col.right .hand .card.handCard:first-child{ margin-left: 0 !important; }

/* Ensure fragile dock is visible and interactive on mobile (override desktop shifts) */
.fragDock{ left: 8px !important; top: 8px !important; pointer-events: auto !important; opacity: 1 !important; z-index: 60 !important; width: auto !important; }
.fragDock .fragStack{ width:36px !important; height:50px !important; }
.fragDock .crystal{ width:28px !important; height:28px !important; opacity:1 !important; }
.fragDock .crystal::before{ border-radius:6px !important; }

/* Slightly reduce hand card hover/enlarge effect on mobile to avoid overlapping */
.col.right .hand .card.handCard:hover{ transform: translateY(-4px) scale(1.03) !important; z-index:40 !important; }

/* If page opted out of global mobile rules, preserve opt-out */
.no-global-mobile .col.right .hand .card.handCard, .no-global-mobile .fragDock { all: initial; }
